@if(isAdminRoute()){
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
    <div class="container">
      <a class="navbar-brand" [routerLink]="['/admin']">
        <img src="assets/logo2.jpg" alt="CMR" width="90" height="35" class="align-text-top me-2">
        Administration
      </a>

      <div class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto align-items-center">
          <li class="nav-item">
            <a class="nav-link text-white" [routerLink]="['/admin']">
              <i class="bi bi-house-door-fill me-1"></i> Accueil
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-white" [routerLink]="['/admin/profil']">
              <i class="bi bi-person-circle me-1"></i> Profil
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-white" [routerLink]="['/admin/reclamations']" title="Réclamations">
              <span class="bell-notification me-1">
                <i class="bi bi-bell-fill"></i>
                @if(nonTraiteCount > 0){ 
                  <span class="bell-badge badge rounded-pill bg-danger">{{ nonTraiteCount }}</span> 
                }
              </span>
              Réclamations
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-white" (click)="logout()">
              <i class="bi bi-box-arrow-right me-1"></i> Déconnexion
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <router-outlet></router-outlet>

  <footer class="bg-dark text-white mt-auto fixed-bottom">
    <div class="text-center text-white p-3 small">© 2026 CMR Group Tunisie. Tous droits réservés.</div>
  </footer>
}

@if(isPublicRoute()){
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
    <div class="container">
      <a class="navbar-brand" [routerLink]="['/public']">
        <img src="assets/logo2.jpg" alt="CMR" width="90" height="35" class="align-text-top me-2">
        Réservation des Salles
      </a>

      <div class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto align-items-center">
          <li class="nav-item">
            <a class="nav-link text-white" [routerLink]="['/public']">
              <i class="bi bi-house-door-fill me-1"></i> Accueil
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-white" [routerLink]="['/public/profil']">
              <i class="bi bi-person-circle me-1"></i> Profil
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-white" [routerLink]="['/public/reservations']" title="Réservations">
              <i class="bi bi-journal-text me-1"></i> Réservations
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-white" (click)="logout()">
              <i class="bi bi-box-arrow-right me-1"></i> Déconnexion
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <router-outlet></router-outlet>

  <footer class="app-footer bg-dark text-white mt-auto fixed-bottom">
    <div class="container py-2 d-flex align-items-center justify-content-between">
      <div class="text-center text-white small">© 2026 CMR Group Tunisie. Tous droits réservés.</div>
      <div class="social-links">
        <a href="https://www.cmr-group.com" target="_blank" aria-label="CMR Website">
          <i class="bi bi-globe"></i>
        </a>
        <a href="https://www.linkedin.com/company/cmr-tunisie" target="_blank" aria-label="LinkedIn">
          <i class="bi bi-linkedin"></i>
        </a>
        <a href="https://www.youtube.com/@cmr-group" target="_blank" aria-label="YouTube">
          <i class="bi bi-youtube"></i>
        </a>
      </div>
    </div>
  </footer>
}

@if(!isAdminRoute() && !isPublicRoute()){
  <router-outlet></router-outlet>
}
