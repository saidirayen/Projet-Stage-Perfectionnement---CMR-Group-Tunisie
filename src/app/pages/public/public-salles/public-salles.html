<div class="public-salles">
  <div class="container">
    <div class="salles-header enter-up">
      <h2 class="fw-bold mb-0">Consulter les salles</h2>
      <a class="btn btn-primary" [routerLink]="['/public/reserver/add']">Réserver une salle</a>
    </div>

    <div class="row justify-content-center">
      <div class="col-12 col-lg-12">
        @for (s of salles; track s.id_s) {
          <div class="card salle-card shadow-sm enter-up">
            <div class="card-body salle-row">
              <div class="salle-img">
                @if(s.statut === 'inactive'){
                  <img src="assets/salles/indisponible.png" alt="Salle">
                } @else {
                  <img [src]="'assets/salles/'+s.nom+'.jpg'" alt="Salle" (error)="imageError($event)">
                }
              </div>

              <div class="salle-content">
                <div class="salle-top">
                  <div>
                    <h5 class="salle-title">{{ s.nom }}</h5>
                    <span class="badge salle-badge" [ngClass]="getStatutClass(s.statut)">
                      @if(s.statut === 'active'){
                        <i class="bi bi-circle-fill me-1"></i> Disponible
                      } @else {
                        <i class="bi bi-circle me-1"></i> Indisponible
                      }
                    </span>
                  </div>

                  <div class="salle-capacity text-muted">
                    <i class="bi bi-people-fill me-1"></i> <span class="fw-semibold">Capacité :</span> {{ s.capacite }}
                  </div>
                </div>

                <p class="text-muted salle-desc">
                  <span class="fw-semibold">Description :</span>
                  {{ s.description || 'Aucune Description' }}
                </p>

                <div class="text-muted fw-semibold">Équipements :</div>
                <div class="equip-wrap">
                  @if(!s.equipements){
                    <span class="text-muted">Aucun équipement</span>
                  } @else {
                    @for(eq of equipList(s); track eq) {
                      <span class="badge bg-secondary me-1 mb-1">{{ eq }}</span>
                    }
                  }
                </div>
              </div>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</div>
